{"version":3,"sources":["../../../../lib/api.ts","../../../../app/%28site%29/portfolio/page.tsx"],"sourcesContent":["export async function fetchGraphQL(query: string, variables = {}) {\r\n    try {\r\n        // Use the environment variable, but fallback to a relative URL for production robustness\r\n        const apiUrl = process.env.NEXT_PUBLIC_WORDPRESS_API_URL || '/wordpress/graphql';\r\n\r\n        const res = await fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                query,\r\n                variables,\r\n            }),\r\n            cache: 'no-store',\r\n        });\r\n\r\n        if (!res.ok) {\r\n            const text = await res.text().catch(() => 'No response body');\r\n            throw new Error(`HTTP Error ${res.status}: ${text}`);\r\n        }\r\n\r\n        const json = await res.json();\r\n\r\n        if (json.errors) {\r\n            console.error('GraphQL Errors:', JSON.stringify(json.errors, null, 2));\r\n            throw new Error('Failed to fetch API: ' + json.errors[0].message);\r\n        }\r\n\r\n        return json.data || {};\r\n    } catch (error) {\r\n        console.error('Fetch Error:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { fetchGraphQL } from '@/lib/api';\r\nimport { motion } from 'framer-motion';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\n\r\ninterface WordPressProject {\r\n    id: string;\r\n    title: string;\r\n    slug: string;\r\n    featuredImage?: {\r\n        node: {\r\n            sourceUrl: string;\r\n        };\r\n    };\r\n    portfolio?: {\r\n        clientName: string;\r\n        category: string;\r\n    };\r\n}\r\n\r\nexport default function PortfolioPage() {\r\n    const [wpProjects, setWpProjects] = useState<WordPressProject[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const getProjects = async () => {\r\n            try {\r\n                // Fetch basic info first to ensure the page works even \r\n                // if ACF is not yet configured in GraphQL\r\n                const data = await fetchGraphQL(`\r\n                    query GetProjects {\r\n                        projects(first: 100) {\r\n                            nodes {\r\n                                id\r\n                                title\r\n                                slug\r\n                                featuredImage {\r\n                                    node {\r\n                                        sourceUrl\r\n                                    }\r\n                                }\r\n                                portfolio {\r\n                                    __typename\r\n                                    # We will add clientName/category back once confirmed\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                `);\r\n\r\n                if (data?.projects?.nodes) {\r\n                    setWpProjects(data.projects.nodes);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching projects:', error);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        getProjects();\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#050511] flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#050511] text-white pt-44 relative overflow-hidden\">\r\n            {/* Background Vector */}\r\n            <div className=\"absolute inset-0 z-0 pointer-events-none\">\r\n                <div className=\"absolute inset-0 bg-[url('/vector-bg.png')] bg-cover bg-center opacity-10 mix-blend-screen rotate-180\" />\r\n                <div className=\"absolute inset-0 bg-gradient-to-b from-[#050511] via-transparent to-[#050511]\" />\r\n            </div>\r\n\r\n            <div className=\"relative z-10 py-20 text-center container mx-auto px-4\">\r\n                <h1 className=\"text-5xl md:text-7xl font-bold mb-6\">\r\n                    Our <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600\">Masterpieces</span>\r\n                </h1>\r\n                <p className=\"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed\">\r\n                    A showcase of pixels, code, and creativity coming together to build something extraordinary.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"container mx-auto px-4 pb-24 relative z-10\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10\">\r\n                    {wpProjects.length > 0 ? (\r\n                        wpProjects.map((project, index) => (\r\n                            <Link key={project.id} href={`/portfolio/${project.slug}`}>\r\n                                <motion.div\r\n                                    className=\"bg-white/5 border border-white/10 rounded-3xl overflow-hidden shadow-2xl hover:shadow-[0_0_30px_rgba(139,92,246,0.2)] transition-all duration-500 cursor-pointer group h-full\"\r\n                                    initial={{ opacity: 0, y: 30 }}\r\n                                    animate={{ opacity: 1, y: 0 }}\r\n                                    transition={{ delay: index * 0.1 }}\r\n                                    whileHover={{ y: -10 }}\r\n                                >\r\n                                    <div className=\"h-72 overflow-hidden relative\">\r\n                                        {project.featuredImage ? (\r\n                                            <Image\r\n                                                src={project.featuredImage.node.sourceUrl}\r\n                                                alt={project.title}\r\n                                                fill\r\n                                                unoptimized\r\n                                                className=\"object-cover transform group-hover:scale-110 transition-transform duration-700\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full bg-gray-800 flex items-center justify-center\">\r\n                                                <span className=\"text-gray-600\">No Image</span>\r\n                                            </div>\r\n                                        )}\r\n                                        <div className=\"absolute inset-0 bg-gradient-to-t from-[#050511] via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity\" />\r\n\r\n                                        {project.portfolio?.category && (\r\n                                            <div className=\"absolute top-4 right-4 bg-black/40 backdrop-blur-md border border-white/20 px-3 py-1 rounded-full text-xs font-semibold text-white\">\r\n                                                {project.portfolio.category}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"p-8 relative\">\r\n                                        <div className=\"flex justify-between items-center mb-2\">\r\n                                            <div>\r\n                                                {project.portfolio?.clientName && (\r\n                                                    <span className=\"text-xs font-bold text-blue-400 uppercase tracking-widest mb-2 block\">{project.portfolio.clientName}</span>\r\n                                                )}\r\n                                                <h3 className=\"text-2xl font-bold text-white group-hover:text-purple-400 transition-colors uppercase tracking-tight\">{project.title}</h3>\r\n                                            </div>\r\n                                            <div className=\"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shrink-0 group-hover:bg-purple-600 group-hover:text-white transition-all transform group-hover:rotate-45 ml-4\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"7\" x2=\"17\" y1=\"17\" y2=\"7\" /><polyline points=\"7 7 17 7 17 17\" /></svg>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </motion.div>\r\n                            </Link>\r\n                        ))\r\n                    ) : (\r\n                        <div className=\"col-span-full text-center py-20 bg-white/5 border border-white/10 rounded-3xl\">\r\n                            <p className=\"text-xl text-gray-400\">No projects found. Add them in WordPress to see them here!</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}